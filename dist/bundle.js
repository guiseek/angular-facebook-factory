(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FacebookFactory=function(){function FacebookFactory($window,$timeout,$q){var _this=this;_classCallCheck(this,FacebookFactory),this.options={appId:null,status:!0,cookie:!1,xfbml:!1,version:"v2.4",scope:""},["appId","status","cookie","xfbml","version","scope"].map(function(name){_this[name]=angular.bind(_this,_this.getSetOption,name)}),this.FB=null,this.FBPromise=null,this.initPromise=null,this.$window=$window,this.$timeout=$timeout,this.$q=$q,this.lang="en_US",this.loading=!1,this.loaded=!1,this.initialized=!1}return _createClass(FacebookFactory,[{key:"getSetOption",value:function getSetOption(name,val){if(void 0===val)return this.options[name];return this.options[name]=val,this}},{key:"setLang",value:function setLang(lang){this.lang=lang}},{key:"handleResponse",value:function handleResponse(response){!response||response.error?this.reject(response&&response.error||!1):this.resolve(response)}},{key:"addCallbackToPromise",value:function addCallbackToPromise(deferred,callback){var promise=deferred.promise;return"function"==typeof callback&&promise.then(callback),promise}},{key:"load",value:function load(){var _this2=this;if(!this.FBPromise){var deferred=this.$q.defer();this.$window.fbAsyncInit=function(){_this2.FB=_this2.$window.FB,_this2.loading=!1,_this2.loaded=!0,_this2.$timeout(function(){return deferred.resolve(FB)})},function(d,s,id){var js=void 0,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/"+_this2.lang+"/sdk.js",fjs.parentNode.insertBefore(js,fjs)}(this.$window.document,"script","facebook-jssdk"),this.loading=!0,this.FBPromise=deferred.promise}return this.FBPromise}},{key:"init",value:function init(params){var _this3=this;return this.initPromise||(this.initPromise=this.load().then(function(FB){if(params=angular.extend({appId:_this3.options.appId,status:_this3.options.status,cookie:_this3.options.cookie,xfbml:_this3.options.xfbml,version:_this3.options.version},params),!params.appId)throw new Error("FacebookService: appId is not set");return FB.init(params),_this3.initialized=!0,FB})),this.initPromise}},{key:"getLoginStatus",value:function getLoginStatus(callback){var _this4=this;return this.init().then(function(FB){var deferred=_this4.$q.defer();return FB.getLoginStatus(angular.bind(deferred,_this4.handleResponse)),_this4.addCallbackToPromise(deferred,callback)})}},{key:"api",value:function api(){var _this5=this,apiArgs=arguments;return this.init().then(function(FB){var deferred=_this5.$q.defer(),args=Array.prototype.slice.call(apiArgs),callback=void 0;return"function"==typeof args[args.length-1]&&(callback=args.pop()),args.push(angular.bind(deferred,_this5.handleResponse)),FB.api.apply(FB,args),_this5.addCallbackToPromise(deferred,callback)})}},{key:"login",value:function login(callback,opts){var _this6=this;return this.init().then(function(FB){var deferred=_this6.$q.defer();"function"!=typeof callback&&(callback=null,opts=callback);return FB.login(angular.bind(deferred,_this6.handleResponse),{scope:function getOpt(name){var val=opts&&opts[name];return void 0===val?_this6.options[name]:val}("scope")}),_this6.addCallbackToPromise(deferred,callback)})}},{key:"logout",value:function logout(callback){var _this7=this;return this.getLoginStatus().then(function(response){var deferred=_this7.$q.defer();return response.authResponse?_this7.FB.logout(angular.bind(deferred,callback)):deferred.reject(response),_this7.addCallbackToPromise(deferred,callback)})}},{key:"disconnect",value:function disconnect(callback){var _this8=this;return this.init().then(function(FB){var deferred=_this8.$q.defer();return FB.api("/me/permissions","DELETE",angular.bind(deferred,_this8.handleResponse)),_this8.addCallbackToPromise(deferred,callback)})}}],[{key:"facebookFactory",value:function facebookFactory($window,$timeout,$q){return new FacebookFactory($window,$timeout,$q)}}]),FacebookFactory}();exports.default=FacebookFactory,FacebookFactory.facebookFactory.$inject=["$window","$timeout","$q"];

},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _facebook=require("./factory/facebook.js"),_facebook2=_interopRequireDefault(_facebook);exports.default=angular.module("ngFacebook",[]).factory("FacebookFactory",_facebook2.default.facebookFactory);

},{"./factory/facebook.js":1}]},{},[2]);
